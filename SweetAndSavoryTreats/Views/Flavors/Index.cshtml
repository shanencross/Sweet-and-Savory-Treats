@{
  Layout = "_Layout";
}
@using SweetAndSavoryTreats.Models;
@using System.Collections.Generic;
@model ICollection<SweetAndSavoryTreats.Models.Flavor>;

<h1>FlavorTreats</h1>
@if (Model.Count == 0)
{
  <p>Wait, there are no flavors?? A logged-in user needs to add some!</p>
}

<ul>
  @foreach (Flavor flavor in Model)
  {
    <li>@Html.ActionLink(flavor.Name, "Details", new { id = flavor.FlavorId })</li>
    <li> Treats:
      <ul>
        @foreach (FlavorTreat flavorTreat in flavor.FlavorTreats)
        {
          Treat treat = flavorTreat.Treat;
          <li>@Html.ActionLink(treat.Name, "Details", "Treats", new { id = treat.TreatId })</li>
        }
      </ul>
    </li>
  }
</ul>
<br>
<p>
@if (User.Identity.IsAuthenticated)
{
  @Html.ActionLink("Add Flavor", "Create")<br>
}
@Html.ActionLink("Return to Home", "Index", "Home")
</p>